import{o as f,c as p,w as o,a as d,b as a,V as g,d as _,e as V,f as b,g as t,h as m,i as w,j as v,k as c,u as h,l as y,m as i,n as S,p as u,T,L as n,O as U}from"./app-b42772e3.js";import{_ as k}from"./AdminLayout-dbf6b04e.js";import{_ as C}from"./Breadcrumbs-bb3aa858.js";const B={class:"mb-5"},L=d("h5",{class:"text-h5 font-weight-bold"},"ユーザー新規登録",-1),O=d("div",{id:"map",class:"input_map"},null,-1),M=u("キャンセル"),N=u("更新"),j={props:["group_options","record"],data(){return{breadcrumbs:[{title:"ユーザー一覧",disabled:!1,href:"/admin/user"},{title:"編集",disabled:!0}],form:T({id:null,name:null,email:null,password:null,pref:null,init_lat:null,init_long:null}),group_options:[]}},mounted(){const e=this;e.form.id=e.record.id,e.form.name=e.record.name,e.form.email=e.record.email,e.form.password=e.record.password,e.form.pref=e.record.pref,e.form.init_lat=e.record.init_lat,e.form.init_long=e.record.init_long,e.map_default_option=e.constant.map,e.map=n.map("map").setView(e.map_default_option.view,e.map_default_option.zoom),n.tileLayer("http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'Map data &copy; <a href="http://www.osm.org">OpenStreetMap</a>'}).addTo(e.map);const r=n.marker([e.form.init_lat,e.form.init_long],{draggable:!0}).addTo(e.map);r.on("dragstart",function(l){}),r.on("dragend",function(l){var s=r.getLatLng();e.form.init_lat=s.lat,e.form.init_long=s.lng})},methods:{submit(){this.form.patch("/admin/user/"+this.record.id,{onSuccess:()=>{U.visit("/admin/user")}})}}},A=Object.assign(j,{name:"Edit",setup(e){return(r,l)=>(f(),p(k,null,{default:o(()=>[d("div",B,[L,a(C,{items:r.breadcrumbs,class:"pa-0 mt-1"},null,8,["items"])]),a(S,null,{default:o(()=>[a(g,{onSubmit:_(r.submit,["prevent"])},{default:o(()=>[a(V,null,{default:o(()=>[a(b,null,{default:o(()=>[a(t,{cols:"12",sm:"12",md:"6"},{default:o(()=>[a(m,{modelValue:r.form.name,"onUpdate:modelValue":l[0]||(l[0]=s=>r.form.name=s),label:"名前",variant:"underlined","error-messages":r.form.errors.name},null,8,["modelValue","error-messages"])]),_:1}),a(t,{cols:"12",sm:"12",md:"6"},{default:o(()=>[a(m,{modelValue:r.form.email,"onUpdate:modelValue":l[1]||(l[1]=s=>r.form.email=s),label:"メールアドレス",variant:"underlined",type:"email","error-messages":r.form.errors.email},null,8,["modelValue","error-messages"])]),_:1}),a(t,{cols:"12",sm:"12",md:"6"},{default:o(()=>[a(m,{modelValue:r.form.password,"onUpdate:modelValue":l[2]||(l[2]=s=>r.form.password=s),label:"パースワード",variant:"underlined",type:"password","error-messages":r.form.errors.password},null,8,["modelValue","error-messages"])]),_:1}),a(t,{cols:"12",sm:"12",md:"6"},{default:o(()=>[a(w,{modelValue:r.form.pref,"onUpdate:modelValue":l[3]||(l[3]=s=>r.form.pref=s),items:r.constant.enums.prefs,"item-title":"text","item-value":"value",label:"エリア",variant:"underlined","error-messages":r.form.errors.pref},null,8,["modelValue","items","error-messages"])]),_:1}),a(t,{cols:"12",sm:"12",md:"6"},{default:o(()=>[a(m,{disabled:"",modelValue:r.form.init_lat,"onUpdate:modelValue":l[4]||(l[4]=s=>r.form.init_lat=s),label:"初期ポジション緯度",variant:"underlined",type:"text","error-messages":r.form.errors.init_lat},null,8,["modelValue","error-messages"])]),_:1}),a(t,{cols:"12",sm:"12",md:"6"},{default:o(()=>[a(m,{disabled:"",modelValue:r.form.init_long,"onUpdate:modelValue":l[5]||(l[5]=s=>r.form.init_long=s),label:"初期ポジション緯度",variant:"underlined",type:"text","error-messages":r.form.errors.init_long},null,8,["modelValue","error-messages"])]),_:1}),a(t,{cols:"12",sm:"12"},{default:o(()=>[O]),_:1})]),_:1})]),_:1}),a(v,null,{default:o(()=>[a(c),a(h(y),{href:"/admin/user",as:"div"},{default:o(()=>[a(i,{text:""},{default:o(()=>[M]),_:1})]),_:1}),a(i,{type:"submit",color:"primary"},{default:o(()=>[N]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1}))}});export{A as default};
