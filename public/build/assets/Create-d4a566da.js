import{o as f,c as g,w as s,a as d,b as a,V,d as _,e as b,f as v,g as t,h as m,i as n,j as w,k as y,u as U,l as C,m as u,n as S,p,T,O as k}from"./app-00043a97.js";import{L as i}from"./leaflet-src-038822e5.js";import{_ as h}from"./AdminLayout-d92acf20.js";import{_ as B}from"./Breadcrumbs-7deb8630.js";const L={class:"mb-5"},O=d("h5",{class:"text-h5 font-weight-bold"},"管理者新規登録",-1),M=d("div",{id:"map",class:"input_map"},null,-1),N=p("キャンセル"),$=p("登録"),j={props:["group_options"],data(){return{breadcrumbs:[{title:"管理者一覧",disabled:!1,href:"/admin/admin"},{title:"新規登録",disabled:!0}],form:T({group_id:null,name:null,email:null,password:null,role:null,pref:null,init_lat:null,init_long:null}),group_options:[]}},mounted(){const o=this;o.group_options=o.$page.props.group_options,o.form.init_lat=o.constant.map.init_pos.lat,o.form.init_long=o.constant.map.init_pos.long,o.map_default_option=o.constant.map,o.map=i.map("map").setView(o.map_default_option.view,o.map_default_option.zoom),i.tileLayer("http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'Map data &copy; <a href="http://www.osm.org">OpenStreetMap</a>'}).addTo(o.map);const e=i.marker([o.form.init_lat,o.form.init_long],{draggable:!0}).addTo(o.map);e.on("dragstart",function(l){}),e.on("dragend",function(l){var r=e.getLatLng();o.form.init_lat=r.lat,o.form.init_long=r.lng})},methods:{submit(){this.form.post("/admin/admin",{onSuccess:()=>{k.visit("/admin/admin")}})}}},R=Object.assign(j,{name:"Create",setup(o){return(e,l)=>(f(),g(h,null,{default:s(()=>[d("div",L,[O,a(B,{items:e.breadcrumbs,class:"pa-0 mt-1"},null,8,["items"])]),a(S,null,{default:s(()=>[a(V,{onSubmit:_(e.submit,["prevent"])},{default:s(()=>[a(b,null,{default:s(()=>[a(v,null,{default:s(()=>[a(t,{cols:"12",sm:"12",md:"6"},{default:s(()=>[a(m,{modelValue:e.form.name,"onUpdate:modelValue":l[0]||(l[0]=r=>e.form.name=r),label:"名前",variant:"underlined","error-messages":e.form.errors.name},null,8,["modelValue","error-messages"])]),_:1}),a(t,{cols:"12",sm:"12",md:"6"},{default:s(()=>[a(m,{modelValue:e.form.email,"onUpdate:modelValue":l[1]||(l[1]=r=>e.form.email=r),label:"メールアドレス",variant:"underlined",type:"email","error-messages":e.form.errors.email},null,8,["modelValue","error-messages"])]),_:1}),a(t,{cols:"12",sm:"12",md:"6"},{default:s(()=>[a(m,{modelValue:e.form.password,"onUpdate:modelValue":l[2]||(l[2]=r=>e.form.password=r),label:"パースワード",variant:"underlined",type:"password","error-messages":e.form.errors.password},null,8,["modelValue","error-messages"])]),_:1}),a(t,{cols:"12",sm:"12",md:"6"},{default:s(()=>[a(n,{modelValue:e.form.role,"onUpdate:modelValue":l[3]||(l[3]=r=>e.form.role=r),items:e.constant.enums.roles,"item-title":"text","item-value":"value",label:"権限",variant:"underlined","error-messages":e.form.errors.role},null,8,["modelValue","items","error-messages"])]),_:1}),a(t,{cols:"12",sm:"12",md:"6"},{default:s(()=>[a(n,{modelValue:e.form.group_id,"onUpdate:modelValue":l[4]||(l[4]=r=>e.form.group_id=r),items:e.group_options,"item-title":"name","item-value":"id",label:"グループ",variant:"underlined","error-messages":e.form.errors.group_id},null,8,["modelValue","items","error-messages"])]),_:1}),a(t,{cols:"12",sm:"12",md:"6"},{default:s(()=>[a(n,{modelValue:e.form.pref,"onUpdate:modelValue":l[5]||(l[5]=r=>e.form.pref=r),items:e.constant.enums.prefs,"item-title":"text","item-value":"value",label:"エリア",variant:"underlined","error-messages":e.form.errors.pref},null,8,["modelValue","items","error-messages"])]),_:1}),a(t,{cols:"12",sm:"12",md:"6"},{default:s(()=>[a(m,{disabled:"",modelValue:e.form.init_lat,"onUpdate:modelValue":l[6]||(l[6]=r=>e.form.init_lat=r),label:"初期ポジション緯度",variant:"underlined",type:"text","error-messages":e.form.errors.init_lat},null,8,["modelValue","error-messages"])]),_:1}),a(t,{cols:"12",sm:"12",md:"6"},{default:s(()=>[a(m,{disabled:"",modelValue:e.form.init_long,"onUpdate:modelValue":l[7]||(l[7]=r=>e.form.init_long=r),label:"初期ポジション緯度",variant:"underlined",type:"text","error-messages":e.form.errors.init_long},null,8,["modelValue","error-messages"])]),_:1}),a(t,{cols:"12",sm:"12"},{default:s(()=>[M]),_:1})]),_:1})]),_:1}),a(w,null,{default:s(()=>[a(y),a(U(C),{href:"/admin/admin",as:"div"},{default:s(()=>[a(u,{text:""},{default:s(()=>[N]),_:1})]),_:1}),a(u,{type:"submit",color:"primary"},{default:s(()=>[$]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1}))}});export{R as default};
