import{o as p,c as f,w as o,a as i,b as a,V as g,d as _,e as V,f as b,g as t,h as n,i as w,j as v,k as y,u as h,l as C,m as d,n as S,p as u,T,O as U}from"./app-00043a97.js";import{L as m}from"./leaflet-src-038822e5.js";import{_ as k}from"./AdminLayout-d92acf20.js";import{_ as c}from"./Breadcrumbs-7deb8630.js";const B={class:"mb-5"},L=i("h5",{class:"text-h5 font-weight-bold"},"ユーザー新規登録",-1),O=i("div",{id:"map",class:"input_map"},null,-1),M=u("キャンセル"),N=u("登録"),j={props:["group_options"],data(){return{breadcrumbs:[{title:"ユーザー一覧",disabled:!1,href:"/admin/user"},{title:"新規登録",disabled:!0}],form:T({name:null,email:null,password:null,pref:null,init_lat:null,init_long:null}),group_options:[]}},mounted(){const l=this;l.form.init_lat=l.constant.map.init_pos.lat,l.form.init_long=l.constant.map.init_pos.long,l.map_default_option=l.constant.map,l.map=m.map("map").setView(l.map_default_option.view,l.map_default_option.zoom),m.tileLayer("http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'Map data &copy; <a href="http://www.osm.org">OpenStreetMap</a>'}).addTo(l.map);const e=m.marker([l.form.init_lat,l.form.init_long],{draggable:!0}).addTo(l.map);e.on("dragstart",function(r){}),e.on("dragend",function(r){var s=e.getLatLng();l.form.init_lat=s.lat,l.form.init_long=s.lng})},methods:{submit(){this.form.post("/admin/user",{onSuccess:()=>{U.visit("/admin/user")}})}}},P=Object.assign(j,{name:"Create",setup(l){return(e,r)=>(p(),f(k,null,{default:o(()=>[i("div",B,[L,a(c,{items:e.breadcrumbs,class:"pa-0 mt-1"},null,8,["items"])]),a(S,null,{default:o(()=>[a(g,{onSubmit:_(e.submit,["prevent"])},{default:o(()=>[a(V,null,{default:o(()=>[a(b,null,{default:o(()=>[a(t,{cols:"12",sm:"12",md:"6"},{default:o(()=>[a(n,{modelValue:e.form.name,"onUpdate:modelValue":r[0]||(r[0]=s=>e.form.name=s),label:"名前",variant:"underlined","error-messages":e.form.errors.name},null,8,["modelValue","error-messages"])]),_:1}),a(t,{cols:"12",sm:"12",md:"6"},{default:o(()=>[a(n,{modelValue:e.form.email,"onUpdate:modelValue":r[1]||(r[1]=s=>e.form.email=s),label:"メールアドレス",variant:"underlined",type:"email","error-messages":e.form.errors.email},null,8,["modelValue","error-messages"])]),_:1}),a(t,{cols:"12",sm:"12",md:"6"},{default:o(()=>[a(n,{modelValue:e.form.password,"onUpdate:modelValue":r[2]||(r[2]=s=>e.form.password=s),label:"パースワード",variant:"underlined",type:"password","error-messages":e.form.errors.password},null,8,["modelValue","error-messages"])]),_:1}),a(t,{cols:"12",sm:"12",md:"6"},{default:o(()=>[a(w,{modelValue:e.form.pref,"onUpdate:modelValue":r[3]||(r[3]=s=>e.form.pref=s),items:e.constant.enums.prefs,"item-title":"text","item-value":"value",label:"エリア",variant:"underlined","error-messages":e.form.errors.pref},null,8,["modelValue","items","error-messages"])]),_:1}),a(t,{cols:"12",sm:"12",md:"6"},{default:o(()=>[a(n,{disabled:"",modelValue:e.form.init_lat,"onUpdate:modelValue":r[4]||(r[4]=s=>e.form.init_lat=s),label:"初期ポジション緯度",variant:"underlined",type:"text","error-messages":e.form.errors.init_lat},null,8,["modelValue","error-messages"])]),_:1}),a(t,{cols:"12",sm:"12",md:"6"},{default:o(()=>[a(n,{disabled:"",modelValue:e.form.init_long,"onUpdate:modelValue":r[5]||(r[5]=s=>e.form.init_long=s),label:"初期ポジション緯度",variant:"underlined",type:"text","error-messages":e.form.errors.init_long},null,8,["modelValue","error-messages"])]),_:1}),a(t,{cols:"12",sm:"12"},{default:o(()=>[O]),_:1})]),_:1})]),_:1}),a(v,null,{default:o(()=>[a(y),a(h(C),{href:"/admin/user",as:"div"},{default:o(()=>[a(d,{text:""},{default:o(()=>[M]),_:1})]),_:1}),a(d,{type:"submit",color:"primary"},{default:o(()=>[N]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1}))}});export{P as default};
