import{o as f,c as g,w as s,a as d,b as a,V,d as _,e as b,f as v,g as t,h as m,i as n,j as w,k as y,u as U,l as C,m as u,n as S,p,T,L as i,O as k}from"./app-5de3646e.js";import{_ as h}from"./AdminLayout-0150d9c2.js";import{_ as B}from"./Breadcrumbs-22eba189.js";const L={class:"mb-5"},O=d("h5",{class:"text-h5 font-weight-bold"},"管理者新規登録",-1),M=d("div",{id:"map",class:"input_map"},null,-1),N=p("キャンセル"),$=p("登録"),j={props:["group_options"],data(){return{breadcrumbs:[{title:"管理者一覧",disabled:!1,href:"/admin/admin"},{title:"新規登録",disabled:!0}],form:T({group_id:null,name:null,email:null,password:null,role:null,pref:null,init_lat:null,init_long:null}),group_options:[]}},mounted(){const l=this;l.group_options=l.$page.props.group_options,l.form.init_lat=l.constant.map.init_pos.lat,l.form.init_long=l.constant.map.init_pos.long,l.map_default_option=l.constant.map,l.map=i.map("map").setView(l.map_default_option.view,l.map_default_option.zoom),i.tileLayer("http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'Map data &copy; <a href="http://www.osm.org">OpenStreetMap</a>'}).addTo(l.map);const e=i.marker([l.form.init_lat,l.form.init_long],{draggable:!0}).addTo(l.map);e.on("dragstart",function(o){}),e.on("dragend",function(o){var r=e.getLatLng();l.form.init_lat=r.lat,l.form.init_long=r.lng})},methods:{submit(){this.form.post("/admin/admin",{onSuccess:()=>{k.visit("/admin/admin")}})}}},P=Object.assign(j,{name:"Create",setup(l){return(e,o)=>(f(),g(h,null,{default:s(()=>[d("div",L,[O,a(B,{items:e.breadcrumbs,class:"pa-0 mt-1"},null,8,["items"])]),a(S,null,{default:s(()=>[a(V,{onSubmit:_(e.submit,["prevent"])},{default:s(()=>[a(b,null,{default:s(()=>[a(v,null,{default:s(()=>[a(t,{cols:"12",sm:"12",md:"6"},{default:s(()=>[a(m,{modelValue:e.form.name,"onUpdate:modelValue":o[0]||(o[0]=r=>e.form.name=r),label:"名前",variant:"underlined","error-messages":e.form.errors.name},null,8,["modelValue","error-messages"])]),_:1}),a(t,{cols:"12",sm:"12",md:"6"},{default:s(()=>[a(m,{modelValue:e.form.email,"onUpdate:modelValue":o[1]||(o[1]=r=>e.form.email=r),label:"メールアドレス",variant:"underlined",type:"email","error-messages":e.form.errors.email},null,8,["modelValue","error-messages"])]),_:1}),a(t,{cols:"12",sm:"12",md:"6"},{default:s(()=>[a(m,{modelValue:e.form.password,"onUpdate:modelValue":o[2]||(o[2]=r=>e.form.password=r),label:"パースワード",variant:"underlined",type:"password","error-messages":e.form.errors.password},null,8,["modelValue","error-messages"])]),_:1}),a(t,{cols:"12",sm:"12",md:"6"},{default:s(()=>[a(n,{modelValue:e.form.role,"onUpdate:modelValue":o[3]||(o[3]=r=>e.form.role=r),items:e.constant.enums.roles,"item-title":"text","item-value":"value",label:"権限",variant:"underlined","error-messages":e.form.errors.role},null,8,["modelValue","items","error-messages"])]),_:1}),a(t,{cols:"12",sm:"12",md:"6"},{default:s(()=>[a(n,{modelValue:e.form.group_id,"onUpdate:modelValue":o[4]||(o[4]=r=>e.form.group_id=r),items:e.group_options,"item-title":"name","item-value":"id",label:"グループ",variant:"underlined","error-messages":e.form.errors.group_id},null,8,["modelValue","items","error-messages"])]),_:1}),a(t,{cols:"12",sm:"12",md:"6"},{default:s(()=>[a(n,{modelValue:e.form.pref,"onUpdate:modelValue":o[5]||(o[5]=r=>e.form.pref=r),items:e.constant.enums.prefs,"item-title":"text","item-value":"value",label:"エリア",variant:"underlined","error-messages":e.form.errors.pref},null,8,["modelValue","items","error-messages"])]),_:1}),a(t,{cols:"12",sm:"12",md:"6"},{default:s(()=>[a(m,{disabled:"",modelValue:e.form.init_lat,"onUpdate:modelValue":o[6]||(o[6]=r=>e.form.init_lat=r),label:"初期ポジション緯度",variant:"underlined",type:"text","error-messages":e.form.errors.init_lat},null,8,["modelValue","error-messages"])]),_:1}),a(t,{cols:"12",sm:"12",md:"6"},{default:s(()=>[a(m,{disabled:"",modelValue:e.form.init_long,"onUpdate:modelValue":o[7]||(o[7]=r=>e.form.init_long=r),label:"初期ポジション緯度",variant:"underlined",type:"text","error-messages":e.form.errors.init_long},null,8,["modelValue","error-messages"])]),_:1}),a(t,{cols:"12",sm:"12"},{default:s(()=>[M]),_:1})]),_:1})]),_:1}),a(w,null,{default:s(()=>[a(y),a(U(C),{href:"/admin/admin",as:"div"},{default:s(()=>[a(u,{text:""},{default:s(()=>[N]),_:1})]),_:1}),a(u,{type:"submit",color:"primary"},{default:s(()=>[$]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1}))}});export{P as default};
