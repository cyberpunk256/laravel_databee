import{o as u,c as p,w as a,a as i,b as e,V,d as b,e as v,f,g as m,h as n,A as c,B as h,m as _,F as z,j as w,k as y,n as C,p as g,T as k}from"./app-68115e54.js";import{_ as U}from"./AdminLayout-8a43b6f1.js";import{_ as B}from"./Breadcrumbs-e181b2e4.js";const S={class:"mb-5"},$=i("h5",{class:"text-h5 font-weight-bold"},"設定",-1),A=i("p",null,"Media Convert オップション",-1),F={class:"mt-2"},N=g("追加"),T=g("更新"),R={props:["settings"],data(){return{breadcrumbs:[{title:"設定",disabled:!0}],form:k({map_gpx_weight:null,map_default_zoom:null,map_max_zoom:null,s3_upload_folder:null,media_conver_options:[]})}},mounted(){console.log("flash",this.constant);const l=this;l.form.map_gpx_weight=l.settings.map_gpx_weight,l.form.map_default_zoom=l.settings.map_default_zoom,l.form.map_max_zoom=l.settings.map_max_zoom,l.form.s3_upload_folder=l.settings.s3_upload_folder,l.form.media_conver_options=JSON.parse(l.settings.media_conver_options)},methods:{submit(){const l=this;this.form.post("/admin/setting",{onSuccess:()=>{l.show_toast()}})},onRemove(l){this.form.media_conver_options.splice(l,1)},onAdd(){this.form.media_conver_options.push({resolution:null,bitrate:null})}}},Z=Object.assign(R,{name:"Index",setup(l){return(o,r)=>(u(),p(U,null,{default:a(()=>[i("div",S,[$,e(B,{items:o.breadcrumbs,class:"pa-0 mt-1"},null,8,["items"])]),e(C,null,{default:a(()=>[e(V,{onSubmit:b(o.submit,["prevent"])},{default:a(()=>[e(v,null,{default:a(()=>[e(f,null,{default:a(()=>[e(m,{cols:"12"},{default:a(()=>[e(n,{modelValue:o.form.map_gpx_weight,"onUpdate:modelValue":r[0]||(r[0]=s=>o.form.map_gpx_weight=s),label:"Gpxラインのウェイト",variant:"underlined",type:"number","error-messages":o.form.errors.map_gpx_weight},null,8,["modelValue","error-messages"])]),_:1}),e(m,{cols:"12"},{default:a(()=>[e(n,{modelValue:o.form.map_default_zoom,"onUpdate:modelValue":r[1]||(r[1]=s=>o.form.map_default_zoom=s),label:"マップデフォルトZoom",variant:"underlined",type:"number","error-messages":o.form.errors.map_default_zoom},null,8,["modelValue","error-messages"])]),_:1}),e(m,{cols:"12"},{default:a(()=>[e(n,{modelValue:o.form.map_max_zoom,"onUpdate:modelValue":r[2]||(r[2]=s=>o.form.map_max_zoom=s),label:"マップ最大Zoom",variant:"underlined",type:"number","error-messages":o.form.errors.map_max_zoom},null,8,["modelValue","error-messages"])]),_:1}),e(m,{cols:"12"},{default:a(()=>[e(n,{modelValue:o.form.s3_upload_folder,"onUpdate:modelValue":r[3]||(r[3]=s=>o.form.s3_upload_folder=s),label:"S3アップロードフォルダー",variant:"underlined",type:"s3_upload_folder","error-messages":o.form.errors.s3_upload_folder},null,8,["modelValue","error-messages"])]),_:1}),e(m,{cols:"12"},{default:a(()=>[A,(u(!0),c(z,null,h(o.form.media_conver_options,(s,t)=>(u(),p(f,null,{default:a(()=>[e(m,{sm:"10",md:"5"},{default:a(()=>[e(n,{modelValue:o.form.media_conver_options[t].resolution,"onUpdate:modelValue":d=>o.form.media_conver_options[t].resolution=d,label:"解像度",variant:"underlined",type:"number","error-messages":o.form.errors[`media_conver_options.${t}.resolution`]},null,8,["modelValue","onUpdate:modelValue","error-messages"])]),_:2},1024),e(m,{sm:"10",md:"5"},{default:a(()=>[e(n,{modelValue:o.form.media_conver_options[t].bitrate,"onUpdate:modelValue":d=>o.form.media_conver_options[t].bitrate=d,label:"Bitrate",variant:"underlined",type:"number","error-messages":o.form.errors[`media_conver_options.${t}.bitrate`]},null,8,["modelValue","onUpdate:modelValue","error-messages"])]),_:2},1024),e(m,{sm:"2",md:"1"},{default:a(()=>[e(_,{icon:"mdi-minus",variant:"outlined",size:"small",color:"primary",onClick:d=>o.onRemove(t)},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),256)),i("div",F,[e(_,{color:"primary",size:"small",onClick:o.onAdd},{default:a(()=>[N]),_:1},8,["onClick"])])]),_:1})]),_:1})]),_:1}),e(w,null,{default:a(()=>[e(y),e(_,{type:"submit",color:"primary"},{default:a(()=>[T]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1}))}});export{Z as default};
